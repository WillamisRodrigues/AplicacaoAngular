<!DOCTYPE html>
<html lang="pt-br" ng-app="meuModulo" ng-controller="indexController"><!-- declaracao de modulo -->
    <head >
        <meta charset="utf-8">
        <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title ng-bind="titulo">  </title>
         <!-- Compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    </head>
    <body><!-- declaracao do controller -->
        <main class="container">
            <header>
                <h2 ng-bind="titulo"></h2> <!-- o ng-bind so mostra a informação quando o Angular e carregado -->
            </header>
            <section>
                <div class="row">
                    <input type="text" placeholder="Pesquisar Matricula" ng-model="busca.matricula">
                </div>
                <table class="striped">
                    <thead>
                        <tr>
                            <th>Matricula</th>
                            <th>Nome</th>
                            <th>E-mail</th>
                            <th>Nota1</th>
                            <th>Nota2</th>
                            <th>nota3</th>
                            <th>Média</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="aluno in alunos | filter:busca"><!-- parecido com foreach aluno recebe alunos -->
                            <td>{{aluno.matricula}}</td>
                            <td>{{aluno.nome}}</td>
                            <td>{{aluno.email}}</td>
                            <td>{{aluno.nota1}}</td>
                            <td>{{aluno.nota2}}</td>
                            <td>{{aluno.nota3}}</td>
                            <td>{{aluno.media}}</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <footer>
                <div class="row">
                        <p style="text-align: center; margin-top: 200px;">Desenvolvido por <strong> Willamis Rodrigues </strong> </p>
                    <div class="col s4 offset-s4">                        
                        <img src="https://seeklogo.com/images/M/materialize-logo-0FCAD8A6F8-seeklogo.com.png" style="width:100px; margin-top: 20px; float: right;" alt="logo materialize">
                        <img src="https://www.fullstackpython.com/img/logos/angular.png" alt="logo angular" 
                    style="width:200px;  margin-top: 20px;">
                    </div>
                </div>
            </footer>
        </main>
        <!-- trabalhando com ngBind e ngrepeat -->

        <script src="lib/angular.min.js"></script>
         <!-- Compiled and minified JavaScript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
         <!--JavaScript at end of body for optimized loading-->
        <!-- implementações do Angular JS -->
        <script>
            /* declarando modulo */
            angular.module("meuModulo",[/* aqui importar outros modulos exemplo ngRoute*/])
            .controller("indexController",function($scope){
                /* o $scope seria um 'garçon' pela as informações do controller e passa para o html */
                $scope.titulo = "Sistema de Notas";
                $scope.alunos = [
                    {matricula:"000000", nome: "Camila", email:"camila@email.com", nota1:6.5, nota2:8.0, nota3:5.5},
                    {matricula:"000001", nome: "Pedro", email:"pedro@email.com", nota1:7.5, nota2:8.0, nota3:5.5},
                    {matricula:"000002", nome: "Murilo", email:"murilo@email.com", nota1:6.5, nota2:6.0, nota3:5.5},
                    {matricula:"000003", nome: "João", email:"joao@email.com", nota1:6.5, nota2:5.0, nota3:2.5},
                    {matricula:"000004", nome: "Ana", email:"ana@email.com", nota1:6.5, nota2:4.0, nota3:5.5}
                    
                ];

                var init = function(){
                    $scope.alunos.forEach(function(aluno){
                        aluno.media = media(aluno);
                    });
                };

                var contador = 0;
                var media = function(Aluno){
                    var media = (Aluno.nota1 + Aluno.nota2 + Aluno.nota3)/3;
                    return media.toFixed(2); // essa funcao js indica que quero 2 numeros apos a virgula
                };
                init();

            })
        </script>
    </body>
</html>